function showLoadingScene(e){$$.ui.showloadbar("#loadding-scene",{css:{opacity:"0",zIndex:++maxz},rmcls:"HIDE",aniplay:{opacity:1,time:300,callback:e}})}function hideLoadingScene(){$$.ui.hideloadbar("#loadding-scene",{anistop:null,addcls:"HIDE"})}function footermenuTap(e){var t=e&&e.isstr?e:$$.matchof(e.target.className,/type(\d+)/,1);switch(t){case"0":var i=e.target.parent(".SCENE");!i||"ade-pop-scene"!=i.id&&"ade-inset-scene"!=i.id?showScene2():closeScene(e.target);break;case"1":showScene2();break;case"2":showScene5();break;case"3":showRegScene();break;case"4":showScene3(e)}}function closeScene(e){e.hascls("SCENE")||(e=e.parent(".SCENE")),e&&e.aniplay({opacity:0,time:400},$$.hide)}function changeScene(e,t,i){t=$$(t),t&&(e?($.$("#home-menu").display(none),showScene2MenuisOpen=!1,$.$("#home-scene").css({display:block,zIndex:++maxz}),t.css({display:"block",zIndex:maxz-1}),$.$("#home-bg").aniplay({opacity:0,time:300}),$.$("#home-up").aniplay({y:"-100%",time:400}),$.$("#home-down").aniplay({y:"100%",time:400},function(){t.css({zIndex:++maxz}),i&&i.isfn&&i()})):t.css({display:block,opacity:"0",zIndex:++maxz}).aniplay({opacity:1,time:400},i))}function showScene2(){$.$("#home-scene").css({display:block,zIndex:++maxz}),$.$("#home-bg").css({opacity:0}),$.$("#home-menu").display(none),$.timeout(function(){$.$("#home-bg").aniplay({opacity:1,time:500}),$("#home-up,#home-down").aniplay({y:"0",time:500},function(){this.aniplay()})})}function showScene2Menu(e){e===!0||showScene2MenuisOpen?(showScene2MenuisOpen=!1,$.$("#home-up").aniplay({y:"0",time:200}),$.$("#home-down").aniplay({y:"0",time:200}),$.$("#home-menu").aniplay({opacity:"0",time:200,zIndex:"0"},$$.hide)):(showScene2MenuisOpen=!0,$.$("#home-up").aniplay({y:"-6em",time:300}),$.$("#home-down").aniplay({y:"6em",time:300}),$.$("#home-menu").css({opacity:0,display:block}).aniplay({opacity:"1",time:300},function(){this.css({zIndex:10})}))}function rs7SceneTap(e){var t=$$.matchof(e.target.className,/btn(\d)/,1),i=this.find(".pop .item"),n=this.find(".pop .item.SELED"),o,s=1;switch(t){case"1":o=i[0];break;case"2":o=i[1];break;case"3":o=i[2];break;case"4":o=i[3];break;case"7":return void showScene3(e);case"8":return void showScene4(e);case"0":o=n.prev()||i[3];break;case"9":s=-1,o=n.next()||i[0]}n!=o&&(n&&n.rmcls("SELED").aniplay({x:-1*s*window.innerWidth+"px",opacity:0,time:300},$$.hide),o&&o.css({x:s*window.innerWidth,display:block}).aniplay({x:0,opacity:1,time:300}).addcls("SELED"))}function showScene3(e,t){showLoadingScene(),$$.load(t?"img/|22,23,24,25|.png":"img/|18,19,20,21|.png",function(){hideLoadingScene();var i=$.$("#rs7-scene"),n=$.$("#rs7-pop"),o=$.$("#r8-pic");t?i.rmcls("rs7").addcls("r8"):i.rmcls("r8").addcls("rs7"),n.html($$.str2clone($$.html("[.P.item[img.W?src='img/+++',.btn.btn0,.btn.btn9]]").replace("+++",t?"|24,23,22,25|.png":"|18,19,20,21|.png")).join("\n")),e&&e.target.parent("#rs7-scene")?t?o.ishide()&&o.css({opacity:0,display:block}).aniplay({opacity:1,time:300}):o.ishide()||o.aniplay({opacity:0,time:300},$$.hide):($.$("#r8-pic").display(t?block:none),changeScene(e&&e.target.parent("#home-scene"),"#rs7-scene"))})}function showScene4(e){showScene3(e,!0)}function showScene5(e){changeScene(e&&this.parent("#home-scene"),"#ade-scene")}function adeSceneTap(e,t,i,n){switch(console.log(i),i){case 0:return void showAdeInsetScene("img/42.jpg");case 1:return void showAdeInsetScene("img/43.jpg",'<div class="btn" style="top:24em;left:8em;height:5em;width:16em;" tap="showAdePopScene(\'img/99.jpg\')"></div>');case 2:return void showAdeInsetScene("img/48.jpg",'<div class="btn" style="top:18em;right:0em;height:5em;width:16em;" tap="show98_97"></div>');case 3:return void showAdeInsetScene("img/47.jpg");case 4:return void showAdeInsetScene("img/49.jpg");case 5:return void showAdeInsetScene("img/51.jpg");case 6:return void showAdeInsetScene("img/50.jpg");case 7:return void showTestScene();case 8:return void showRS7RegScene();case 9:return void showAdeInsetScene("img/46.jpg",'<video style="top:70em;left:3.9em;width:24.1em;height:15.7em;" class="P" src="video/v.mp4"></video>');case 10:return void showVideoScene();case 11:return void showPicScene()}showAdeInsetScene("img/100.jpg")}function showAdeInsetScene(e,t,i){showLoadingScene();var n=function(){e?$.$("#ade-inset-bg").display().src=e:$.$("#ade-inset-bg").display(none).src="",$.$("#ade-inset-content").html(t||""),setTimeout(function(){hideLoadingScene(),changeScene(!1,"#ade-inset-scene",i),$.$("#ade-inset-scroll").mscroll.scrollto(0,0)},500)};e?$.load(e,n):n()}function showAdePopScene(e,t){showLoadingScene(),$$.load(e,function(){$.$("#ade-pop-bg").src=e,$.$("#ade-pop-content").html(t||""),setTimeout(function(){hideLoadingScene(),changeScene(!1,"#ade-pop-scene"),$.$("#ade-pop-scroll").mscroll.scrollto(0,0)},500)})}function showTestScene(){testAsk=[],showLoadingScene(),$.load("img/|60,6_1,6_2,6_3,6_4,6_5,6_6,6_7,6_8,6_9,6_10,6_11,6_12|.jpg",function(){var e='<div id="test-scene" tap="testSceneTap"><img src="img/60.jpg" class="W">';e+='<div id="test-scene-content"><img id="test-scene-content-pic" src="img/6_1.jpg"><div class="A btn"></div><div class="B btn"></div></div>',e+='<div class="pic-empty"></div></div>';var e=$.html(e);showAdeInsetScene("",e)})}function testSceneTap(e){if(6!=testAsk.length){var t=e.target;if(t.hascls("btn")){if(t.hascls("A"))testAsk.push("A");else{if(!t.hascls("B"))return;testAsk.push("B")}testAsk.length<6?$("#test-scene-content-pic").src="img/6_"+(testAsk.length+1)+".jpg":6==testAsk.length&&($("#test-scene-content-pic").src="img/6_"+Math.rand(7,12)+".jpg")}}}function showVideoScene(){for(var e='<div><div class="pic-empty"></div><img src="img/70.png" style="display:block;width: 60%;margin:0 2em 2em;"><br>',t=videoList,i=0;i<t.length;i++)e+='<div class="video-group">'+t[i]+"</div>";e+='<div class="pic-empty"></div></div>';var e=$.html(e);showAdeInsetScene("",e)}function showPicScene(){for(var e='<div id="picSceneContent" tap="picSceneTap"><div class="pic-empty"></div><img src="img/80.png" style="display:block;width: 60%;margin:0 2em 2em;"><[',t=1;10>t;t++)e+='.pic-group.BOX[.BOXS[img.W?src="img/8_'+t+'.jpg"],.BOXS[img.W?src="img/8_'+ ++t+'.jpg"]],';e+=']><div class="pic-empty"></div></div>';var e=$.html(e);showAdeInsetScene("",e)}function picSceneTap(e){var t=$("#picSceneContent img.SELED"),i=e.target;if((!t||(t.aniplay({x:0,scale:1,time:300},function(){this.rmcls("SELED")}),i!=t.get()))&&"IMG"==i.nodeName){var n=i.src,o=i.position(),s=(window.innerWidth-20)/o.width,a=o.height*s,c=(window.innerHeight-a)/2-o.y;i.addcls("SELED").aniplay({x:-o.x+10,y:c,scale:s,time:300})}}function show98_97(e,t){if(t){var i=98==t?"img/98.jpg":"img/97.jpg";$$.load(i,function(){$.$("#ade-pop-bg").src=i})}else showAdePopScene("img/97.jpg",'<div class="btn" style="top:4em;left:0em;height:5em;width:15em;" tap="show98_97(null, 97)"></div><div class="btn" style="top:4em;right:0em;height:5em;width:16em;" tap="show98_97(null, 98)"></div>')}function showRegScene(e){var t=$.cookie("reg-code");if(t)showAdeInsetScene("img/44.jpg",'<div class="code P" style="top:9em;right:1em;height:5em;">'+t+"</div>");else{var i='<div id="reg-box" class="P reg-box"><[input.I.BB?name=name;placeholder=姓名,.BOX.sex@menu[.BOXS.SELED@item?name=sex;value=man:先生,.BOXS@item?name=sex;value=woman:女士],input.I.BB?name=mobile;placeholder=电话,select.I.BB?name=selactivity;onchange="seledActivity(this)"[option?value=:意向参与活动类别,option:|驾乘体验,运动车体验,安全驾驶培训,冰雪体验|],select.I.BB#activityplace?name=activityplace[option?value=:意向参与站点城市,option?value=:请先选择意向参与活动类别],select.I.BB?name=mode[option?value=:意向车系,option:|A1,A1 Sportback,A1中国限量版,A3 Sportback,A3 Limousine,A4L,A4 allroad quattro,A5 Sportback,A5 Sportback风尚版,A5 Coupé,A5 Coupe风尚版,A5 Cabriolet,A5 Cabriolet风尚版,S5 Sportback,A5 Coupé,S5 Cabriolet,A5 Coupé,RS5 Cabriolet,A6L,A6 hybird,S6,A7 Sportback,S7 Sportback,RS7 Sportback,A8L,A8L W12,A8L hybird,S8,Q3,Q5,Q5 hybird,SQ5,Q7,TT Coupé,TT Coupé特别版,TT Roadster,TTS Coupé,TTS Roadster,R8 Coupé,R8 中国专享型,R8 Spyder,RS5 Coupé,RS5 Cabriolet,RS7 Sportback,任意一款|],.BOX[select.I.BOXS#province@provice?target="#city",select.I.BOXS#city@city?target="#dealer";callback=setDealer],select.I.BB#dealer[option?value=:经销商选择],.text?tap="this.checkcls(SELED)";name=agree;value=true:本人同意一汽-大众奥迪把我的数据用于其它营销、调查和统计目的，并允许一汽-大众奥迪及特许经销商与我联系。,I#reg-submit-btn?src=\'img/52.png\';onclick=subimtRegest()]></div>',i=$.html(i);showAdeInsetScene("img/53.jpg",i,function(){area.checkRole("#reg-box"),$$.ui.checkrole("#reg-box"),$('input[name="mobile"]').attr("pattern","[0-9]*")})}}function seledActivity(e){var t="<opation>意向参与站点城市</opation>";switch(e.value){case"驾乘体验":t+="<option>"+"5月17-5月18 苏州,5月29-6月2 天津,5月31-6月1 义乌,6月4-6月8 杭州,6月11-6月15 石家庄,6月14-6月15 温州,6月20-6月22 长沙,6月21-6月23 青岛,6月27-6月29 武汉,7月4-7月6 南京,7月5-7月6 温州,7月12-7月15 长春,7月12-7月13 贵阳,7月18-7月20 成都,7月25-7月27 兰州,8月初 上海,8月2 富阳,8月9-8月10 珠海,8月12-8月17 沈阳,8月22-8月24 上海,8月29-8月31 昆明,9月16-9月20 北京,9月18-9月21 大连,9月19-9月21 鄂尔多斯,9月27-9月28 宿迁,10月1-10月5 太原,10月16-10月19 重庆,10月17-10月19 常州,10月24-10月25 西安,11月19-11月20 全国总决赛,其它".split(",").join("</opation><option>")+"</option>";break;case"运动车体验":t+="<option>"+"6月13-6月14 北京（课程一）,6月28-6月29 上海（课程一）,7月12 珠海（课程一）,7月13 珠海（课程一）,9月28 北京（课程一）,9月29 北京（课程一）,11月5 上海（课程一）,11月6 上海（课程一）,10月13-10月19 珠海（课程二）,11月5-11月10 上海（课程二）".split(",").join("</opation><option>")+"</option>";break;case"安全驾驶培训":t+="<option>"+"6月17 北京,7月2 上海,10月3 北京,11月10 上海,其他".split(",").join("</opation><option>")+"</option>";break;case"冰雪体验":t+="<option>其他</option>"}$("#activityplace").innerHTML=t}function showRS7RegScene(){var e='<div class="btn" style="top:16em;right:0em;height:5em;width:16em;" tap="showAdePopScene(\'img/95.jpg\')"></div>';e+='<div id="reg-rs7-box" class="P reg-box"><[input.I.BB?name=name;placeholder=姓名,.BOX.sex@menu[.BOXS.SELED@item?name=sex;value=man:先生,.BOXS@item?name=sex;value=woman:女士],input.I.BB?name=mobile;placeholder=电话,.BOX[select.I.BOXS#province2@provice?name=province;target=\'#city2\',select.I.BOXS#city2@city?name=city;target=\'#dealer2\';callback=setDealer],select.I.BB?name=plan[option?value=:欲购车时间,option:|3个月内,4至6个月,7个月到一年内,一年以上,不确定|],select.I.BB#dealer2?name=dealer[option?value=:经销商选择],.text?tap="this.checkcls(SELED)";name=agree;value=true:本人同意一汽-大众奥迪把我的数据用于其它营销、调查和统计目的，并允许一汽-大众奥迪及特许经销商与我联系。,I#reg-submit-btn?src=\'img/52.png\';onclick=subimtRS7Regest()]></div><iframe style="width:21em;height:13.5em;top:98em;left:5.5em;" class="P" src="http://player.youku.com/embed/XNzI4NjQ5OTYw" frameborder=0 allowfullscreen></iframe>';var e=$.html(e);showAdeInsetScene("img/96.jpg",e,function(){area.checkRole("#reg-rs7-box"),$.ui.checkrole("#reg-rs7-box"),$('input[name="mobile"]').attr("pattern","[0-9]*")})}function setDealer(e,t,i){var n=dealer.dealerOption(e,t);if(i&&n)for(var o=0;o<i.length;o++){var s=i[o];s.setAttribute("province",t),s.setAttribute("city",e),s.innerHTML='<option value="">经销商选择</option>'+n,s.options[0].selected=!0}}function subimtRegest(){if(!subimtRegestblock){var e=$$.ui.getval("#reg-box");if(!e.agree)return alert("请同意一汽-大众奥迪收集您的数据"),!1;if(!e.province)return alert("请正确选择省份"),!1;if(!e.city)return alert("请正确选择城市"),!1;if(!e.dealer)return alert("请正确选择经销商"),!1;subimtRegestblock=!0,showLoadingScene(),e.type="ade",e.username=e.name,console.log(e),$.ajax({url:"/active/join/6",type:"POST",data:e,dataType:"json",success:function(e){return console.log(e),alert(200===e.recode?"预约成功":e.reason)}})}}function subimtRS7Regest(){if(!subimtRS7Regestblock){var e=$$.ui.getval("#reg-rs7-box");if(!e.agree)return alert("请同意一汽-大众奥迪收集您的数据"),!1;if(!$.strcheck(e.name,"name"))return alert("请输入姓名"),!1;if(!$$.strcheck(e.mobile,"phone"))return alert("请正确输入手机号码"),!1;if(!e.province)return alert("请正确选择省份"),!1;if(!e.city)return alert("请正确选择城市"),!1;subimtRS7Regestblock=!0,showLoadingScene(),e.type="RS7",$.subimt("regist.php",e,function(e){hideLoadingScene(),"ok"==e.state?$("#reg-rs7-box").aniplay({opacity:"0.5",time:300}):alert(e.msg)},this)}}function scrollfn(e){}var videoList=['<iframe src="http://player.youku.com/embed/XNzI4NjQ5OTYw" frameborder=0 allowfullscreen></iframe>'];$$(function(){$$.load("img/[1,2,3,4,5,6,7,8,9,14,17,16,15,58].png;img/[bg].jpg;img/[45,11,26].jpg",hideLoadingScene),$$.load("js/weixinbridge.js"),$.$("#home-up").css({y:"-100%"}),$.$("#home-down").css({y:"100%"})});var maxz=0,showScene2MenuisOpen=!1,testAsk=[],subimtRegestblock=!1,subimtRS7Regestblock=!1;